using MelonLoader;
using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using TMPro;
using Trinity.SDK;
using Trinity.SDK.ButtonAPI;
using UnityEngine;
using VRC.SDKBase;

namespace Trinity.Module.Exploit.MiscExploits
{
    internal class NaziItems : BaseModule
	{
		public static object CorLmao;
		public static Vector3 vec3poz;
		public static VRC_Pickup[] array1;
		internal static GameObject uia;
		public NaziItems() : base("Nazify Items", "Creates Nazi Symbol With Items", Main.Instance.Eventexploitbutton, QMButtonIcons.LoadSpriteFromFile(Serpent.CustomPath), true, false)
        {
        }

        public override void OnEnable()
        {
            vec3poz = VRCPlayer.field_Internal_Static_VRCPlayer_0.transform.localPosition;
            array1 = Resources.FindObjectsOfTypeAll<VRC_Pickup>().ToArray<VRC_Pickup>();
			CorLmao = MelonCoroutines.Start(SwastikaMaker());
            uia.gameObject.transform.Find("Image/Text (TMP)").gameObject.GetComponent<TextMeshProUGUI>().text = "trinityshit";
            uia.SetActive(false);
            uia.SetActive(true);
        }

        public override void OnDisable()
        {
			MelonCoroutines.Stop(CorLmao);
		}
        public static IEnumerator SwastikaMaker()
        {
            for (; ; )
            {
                yield return new WaitForSeconds(0.0001f);
                sovastica();
            }
            yield break;
        }
		public static void sovastica()
		{
			Vector3 vector = vec3poz;
			VRC_Pickup[] array = array1;
			try
			{
				for (int i = 0; i < array.Length; i++)
				{
					bool flag = Networking.GetOwner(array[i].gameObject) != Networking.LocalPlayer;
					if (flag)
					{
						Networking.SetOwner(Networking.LocalPlayer, array[i].gameObject);
					}
				}
				array[0].transform.position = new Vector3(vector.x, vector.y, vector.z);
				array[1].transform.position = new Vector3(vector.x, vector.y + 0.5f, vector.z);
				array[2].transform.position = new Vector3(vector.x, vector.y + 1f, vector.z);
				array[3].transform.position = new Vector3(vector.x, vector.y + 1.5f, vector.z);
				array[4].transform.position = new Vector3(vector.x, vector.y + 2f, vector.z);
				array[17].transform.position = new Vector3(vector.x, vector.y + 0.5f, vector.z);
				array[18].transform.position = new Vector3(vector.x, vector.y + 1f, vector.z);
				array[19].transform.position = new Vector3(vector.x, vector.y + 1.5f, vector.z);
				array[20].transform.position = new Vector3(vector.x, vector.y, vector.z);
				array[21].transform.position = new Vector3(vector.x, vector.y + 2.5f, vector.z);
				array[22].transform.position = new Vector3(vector.x, vector.y + 3f, vector.z);
				array[5].transform.position = new Vector3(vector.x + 0.5f, vector.y + 1.5f, vector.z);
				array[6].transform.position = new Vector3(vector.x + 1f, vector.y + 1.5f, vector.z);
				array[7].transform.position = new Vector3(vector.x - 0.5f, vector.y + 1.5f, vector.z);
				array[8].transform.position = new Vector3(vector.x - 1f, vector.y + 1.5f, vector.z);
				array[27].transform.position = new Vector3(vector.x + 1.5f, vector.y + 1.5f, vector.z);
				array[28].transform.position = new Vector3(vector.x - 1.5f, vector.y + 1.5f, vector.z);
				array[9].transform.position = new Vector3(vector.x + 1.5f, vector.y + 1.7f, vector.z);
				array[10].transform.position = new Vector3(vector.x + 1.5f, vector.y + 1.9f, vector.z);
				array[23].transform.position = new Vector3(vector.x + 1.5f, vector.y + 2.1f, vector.z);
				array[11].transform.position = new Vector3(vector.x - 1.5f, vector.y + 1.3f, vector.z);
				array[12].transform.position = new Vector3(vector.x - 1.5f, vector.y + 1.1f, vector.z);
				array[24].transform.position = new Vector3(vector.x - 1.5f, vector.y + 1.3f, vector.z);
				array[13].transform.position = new Vector3(vector.x - 0.2f, vector.y + 3f, vector.z);
				array[14].transform.position = new Vector3(vector.x - 0.4f, vector.y + 3f, vector.z);
				array[25].transform.position = new Vector3(vector.x - 0.6f, vector.y + 3f, vector.z);
				array[15].transform.position = new Vector3(vector.x + 0.2f, vector.y, vector.z);
				array[16].transform.position = new Vector3(vector.x + 0.4f, vector.y, vector.z);
				array[26].transform.position = new Vector3(vector.x + 0.6f, vector.y, vector.z);
			}
			catch
			{
			}
		}
	}
}
